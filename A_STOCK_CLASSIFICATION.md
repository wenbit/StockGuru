# 📊 A股市场分类详解

## 总览

**A股总数**: 5377只（截至2025-10-16）

---

## 市场分类

### 1. 上海证券交易所 (沪市)

#### 主板 (1695只)
- **代码段**: 600xxx, 601xxx, 603xxx, 605xxx
- **特点**: 大型蓝筹股为主
- **示例**: 
  - 600000 浦发银行
  - 601318 中国平安
  - 603288 海天味业

#### 科创板 (588只)
- **代码段**: 688xxx
- **特点**: 科技创新企业
- **上市时间**: 2019年7月22日开板
- **示例**:
  - 688001 华兴源创
  - 688008 澜起科技
  - 688111 金山办公

---

### 2. 深圳证券交易所 (深市)

#### 主板 (742只)
- **代码段**: 000xxx, 001xxx
- **特点**: 传统行业为主
- **示例**:
  - 000001 平安银行
  - 000002 万科A
  - 000858 五粮液

#### 中小板 (964只)
- **代码段**: 002xxx, 003xxx, 004xxx
- **特点**: 中小型企业
- **示例**:
  - 002001 新和成
  - 002415 海康威视
  - 002594 比亚迪

#### 创业板 (1388只)
- **代码段**: 300xxx, 301xxx
- **特点**: 高成长性企业
- **上市时间**: 2009年10月30日开板
- **示例**:
  - 300001 特锐德
  - 300059 东方财富
  - 300750 宁德时代
  - 301xxx 创业板新股（2020年后）

---

### 3. 北京证券交易所 (北交所)

#### 北交所股票 (未统计)
- **代码段**: 8xxxxx, 43xxxx
- **特点**: 创新型中小企业
- **上市时间**: 2021年11月15日开市
- **示例**:
  - 430047 诺思兰德
  - 832089 禾昌聚合

---

## 代码规则总结

| 市场 | 板块 | 代码段 | 数量 | 占比 |
|------|------|--------|------|------|
| 沪市 | 主板 | 600, 601, 603, 605 | 1695 | 31.5% |
| 沪市 | 科创板 | 688 | 588 | 10.9% |
| 深市 | 主板 | 000, 001 | 742 | 13.8% |
| 深市 | 中小板 | 002, 003, 004 | 964 | 17.9% |
| 深市 | 创业板 | 300, 301 | 1388 | 25.8% |
| **合计** | - | - | **5377** | **100%** |

---

## 过滤规则实现

### Python代码示例

```python
def is_a_stock(stock_code: str) -> bool:
    """判断是否为A股股票"""
    if not stock_code or len(stock_code) != 6:
        return False
    
    # 沪市主板
    if stock_code.startswith(('600', '601', '603', '605')):
        return True
    
    # 科创板
    if stock_code.startswith('688'):
        return True
    
    # 深市主板
    if stock_code.startswith(('000', '001')):
        return True
    
    # 中小板
    if stock_code.startswith(('002', '003', '004')):
        return True
    
    # 创业板
    if stock_code.startswith(('300', '301')):
        return True
    
    # 北交所（可选）
    if stock_code.startswith(('8', '43')):
        return True
    
    return False
```

---

## 历史变更

### 之前的过滤规则（不完整）
```python
# ❌ 遗漏了科创板和部分创业板
if (stock_code.startswith('600') or stock_code.startswith('601') or 
    stock_code.startswith('603') or stock_code.startswith('605') or
    stock_code.startswith('000') or stock_code.startswith('002') or 
    stock_code.startswith('300')):
```

**遗漏股票**:
- 科创板 688xxx: 588只
- 创业板新股 301xxx: 约200只
- 深市主板 001xxx: 约100只
- 中小板 003/004xxx: 约300只
- **总计遗漏**: 约1184只

### 修复后的规则（完整）
```python
# ✅ 覆盖全部5377只A股
if (stock_code.startswith('600') or stock_code.startswith('601') or 
    stock_code.startswith('603') or stock_code.startswith('605') or
    stock_code.startswith('688') or  # 科创板
    stock_code.startswith('000') or stock_code.startswith('001') or
    stock_code.startswith('002') or stock_code.startswith('003') or 
    stock_code.startswith('004') or
    stock_code.startswith('300') or stock_code.startswith('301')):  # 创业板
```

---

## 注意事项

### 1. 指数代码
- 上证指数: 000001
- 深证成指: 399001
- 创业板指: 399006

**区分方法**: 指数代码通常不在上述A股代码段内

### 2. 停牌股票
- 仍计入A股总数
- 但可能无法获取实时行情数据

### 3. 退市股票
- 不计入A股总数
- 代码段可能被回收重用

---

## 验证脚本

使用 `scripts/check_stock_count.py` 验证：

```bash
python scripts/check_stock_count.py
```

**输出示例**:
```
📊 A股市场统计
============================================================
沪市主板(600/601/603/605)         :  1695 只
科创板(688)                      :   588 只
深市主板(000/001)                 :   742 只
中小板(002/003/004)              :   964 只
创业板(300/301)                  :  1388 只
============================================================
A股总数                          :  5377 只
```

---

**更新时间**: 2025-10-17  
**数据来源**: baostock  
**统计日期**: 2025-10-16
