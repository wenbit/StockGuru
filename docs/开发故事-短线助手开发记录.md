---
title: "我用 Claude Code 开发了短线助手：自动筛选强势股+可视化报告"
source: "https://mp.weixin.qq.com/s/kCd5iUx338nmcupWw_SRNQ"
author:
  - "爱量化的猫哥"
published:
created: 2025-10-14
description: StockGuru 项目的灵感来源和核心思路
tags:
  - "开发故事"
  - "量化交易"
  - "短线交易"
---

原创 爱量化的猫哥 *2025年09月27日 10:00*

**文/猫哥AI量化**

*ps：2500字*

> "股票从来不会太高而不能开始买进，也从来不会太低而不能开始卖出。"
> 
> " 我从来不买便宜的股票，我只买正在上涨的股票。 "
> 
> —— 杰西·利弗莫尔

又是一个周末，虽然只有一天的休息时间，但还是感觉比较惬意。最近猫哥在重温《股票大作手回忆录》这本书，利弗莫尔的这两句话，可以说是短线交易的精髓，他告诉我们： **不要去抄底，不要买便宜货，要买就买强势股、人气股！**  

（当然仅限短线交易者......）

为什么要做强势股，因为强势股的背后有资金推动、故事发酵、情绪刺激、趋势延续，以至于带来羊群效应、FOMO心理等。对应在量化投资中，也有动量因子来捕捉这种价格惯性。

猫哥平时会分配20-30%的仓位来参与强势股，但每天晚上复盘的时候很痛苦，一是面对全市场5000多只股票，不知道该关注哪些？此外，即使选出来了，一个个打开行情软件去切换看行情，眼都看花了。

于是一狠心，用 Claude Code 开发了短线复盘工具 ，绝对能让你眼前一亮！

**话不多说，直接上干货！**

主要是两个python代码，有两个核心功能：

第一个，自动从全市场5000多只股票中，找出最值得关注的人气强势股！

养家老师说过：" 人气所在，牛股所向 "

朋友们，做短线最重要的是什么？人气！资金！强势！

一只股票再好，没有人气没有资金关注，短线就是做不起来。

所以我们的筛选，分为三步走：

首先，筛选出当日成交额排名前100的股票（资金活跃）；

其次， 筛选出当日热度排名前100的股票（人气所在）；

再次，两个股池取交集，对成交额和热度进行标准化处理，然后加权排名，取前30（优中选优）；

最后，用25日动量评分，筛选出技术面最强的前10名（市场的选择）

这个代码会将最终的10只股票，保存为excel，这个时候我们需要一个个复制粘贴到行情软件中去吗？No！

只需要运行第二个代码，就一键生成可视化网页展示！

10只股票的动量分析，K线图，全部在一个网页展示，往下滑动鼠标就可以看，非常方便（甚至20只、30只也没问题，这些都是代码中的参数，可以自行修改）：

**这个工具解决什么问题？**

一句话： **告别繁琐的股票软件切换，一个网页搞定所有K线图查看！**

## 核心代码展示：Claude Code的实现

朋友们，既然是用Claude Code开发的，那咱们看一下代码写的怎么样

### 代码1：获取数据

成交额和热度数据，使用的pywencai获取，数据全面且更新及时。

```python
# 获取成交额排名前100
query = f'{query_date}成交额前100'
volume_df = pywencai.get(query=query)

# 获取热度排名前100
query = f'{query_date}个股热度前100'
hot_df = pywencai.get(query=query)
```

### 代码2：筛选强势股

```python
# 找交集股票（既有成交额又有热度）
common_codes = volume_codes.intersection(hot_codes)

# Min-Max标准化处理
volume_normalized = min_max_normalize(volume_data)
hot_normalized = min_max_normalize(hot_data)

# 计算综合评分
comprehensive_score = (volume_normalized + hot_normalized) / 2
```

### 代码3：动量评分

```python
# 线性回归计算趋势斜率
lr = LinearRegression()
lr.fit(x.reshape(-1, 1), relative_prices)

# 动量评分 = 斜率 * R²
slope = lr.coef_[0]
r_squared = lr.score(x.reshape(-1, 1), relative_prices)
momentum_score = 10000 * slope * r_squared
```

### 算法的优化

**Min-Max标准化的必要性** ：

成交额和热度的数值范围差异巨大，必须标准化到相同区间才能合理比较。

**线性回归动量评分的科学性** ：

- 用斜率衡量趋势强度
- 用R²确保趋势可靠性
- 避免了单纯价格涨幅的误导

### 参数调整建议

如果你想调整筛选条件，可以修改代码中的参数：

```python
VOLUME_TOP_N = 100      # 成交额排名范围
HOT_TOP_N = 100         # 热度排名范围
FINAL_TOP_N = 30        # 综合评分取多少名
MOMENTUM_DAYS = 25      # 动量计算天数
MOMENTUM_TOP_N = 10     # 最终筛选多少只
```

## 总结

朋友们，工具再好也只是辅助手段， 本工具仅供复盘使用提高效率 ：

1. **筛选结果仅供参考** ，不构成投资建议
2. **技术分析有滞后性** ，需结合基本面和消息面
3. **短线风险较高** ，请合理控制仓位
4. **市场有风险** ，入市需谨慎

**记住猫哥的话** ：工具是死的，人是活的。这套助手能大大提升你的效率，但最终的交易决策，还是要靠你自己的判断和经验。正如利弗莫尔所说： " 你可以听全世界说话，但最后下单的手是你自己的。 "

---

## StockGuru Web 版本

基于这个思路，我们开发了 **StockGuru Web 版本**，提供了更完善的功能：

### ✨ 新增特性

1. **Web 界面** - 无需安装，浏览器直接使用
2. **实时进度** - 可视化显示筛选进度
3. **历史记录** - 保存所有筛选结果
4. **云端部署** - 随时随地访问

### 🚀 技术栈

- **前端**: Next.js 14 + TypeScript + Tailwind CSS
- **后端**: FastAPI + Python 3.12
- **数据库**: Supabase (PostgreSQL)
- **数据源**: pywencai + akshare

### 📊 核心功能

1. **一键筛选** - 点击按钮即可开始
2. **后台处理** - 异步执行，不阻塞界面
3. **进度显示** - 实时显示筛选进度
4. **结果展示** - 表格展示前30只股票
5. **数据持久化** - 所有结果保存到数据库

### 🎯 使用方法

```bash
# 1. 启动服务
./start-all.sh

# 2. 访问前端
http://localhost:3000

# 3. 点击"一键筛选"
# 4. 等待约8秒
# 5. 查看结果
```

### 📝 相关文档

- `README.md` - 项目介绍
- `PROJECT-COMPLETE.md` - 项目完成总结
- `FEATURE-UPDATE.md` - 功能更新说明
- `QUICKSTART.md` - 快速开始指南

---

**StockGuru - 让短线复盘更高效！** 🚀
